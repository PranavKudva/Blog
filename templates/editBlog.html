{% extends 'viewBlog.html' %}
{% block edit %}
<div class="row">
    <ul class="nav nav-tabs">
        <li><a href="#Write" data-toggle="tab"><i class="icon-edit"></i>Write</a></li>
        <li><a href="#Search" data-toggle="tab"><i class="icon-file"></i>Search</a></li>
        <li><a href="#Read" data-toggle="tab"><i class="icon-file"></i>Read</a></li>
        <li class="active"><a href="#Edit" data-toggle="tab"><i class="icon-file"></i>Edit</a></li>
    </ul>

    <div class="tabbable tab-content">

        <div class="tab-pane" id="Write">
            <form action="post/" method="post">
                {% csrf_token %}
                <br>
                <input type="text" class="form-control" id="title" maxlength="50" name="title" width="1100px"
                       placeholder="Caption here.Please do not exceed 50 letters" required>
                <br>
                <br>

                <div>
                    <textarea class="span8" maxlength="21000" name="contents" rows="15"
                              placeholder="Contents here.Please do not exceed 21000 letters" required></textarea>
                </div>
                <div class="span8"></div>
                <input type="submit" class="btn btn-primary btn-large" value="Post">
            </form>
        </div>

        <div class="tab-pane" id="Search">
            <form action="/home/search/" method="get">
                <input type="text" name="title" class="input-medium search-query"
                       placeholder="Blog(s) you're looking for">
                <button type="submit" class="btn btn-primary"><i class="icon-search icon-white"></i>Search</button>
            </form>
        </div>

        <div class="tab-pane" id="Read">
            <form action="/home/manip/" method="post">
                {% csrf_token %}
                <input type="hidden" value="{{ blog.id }}" name="id">

                <strong>{{ blog.title }}</strong>

                <p>{{ blog.content }}</p>

                <div class="span8"></div>
                <input type="hidden" name="action" id="action">
                <input type="submit" value="Delete" onclick="setAction('Delete')" class="btn btn-primary btn-large">
                <input type="submit" value="Edit" onclick="setAction('Edit')" class="btn btn-primary btn-large">
            </form>
        </div>

        <div class="tab-pane active" id="Edit">
            <form action="/home/update/" method="post">
                {% csrf_token %}
                <br>
                <input type="hidden" name="id" value="{{ blog.id }}">
                <input type="text" class="form-control" id="newTitle" maxlength="50" name="newTitle" width="1100px"
                       value="{{ blog.title }}" required>
                <br>
                <br>

                <div>
                    <textarea class="span8" maxlength="21000" name="newContent" rows="15" required>{{ blog.content }}</textarea>
                </div>

                <div class="span8"></div>
                <input type="submit" class="btn btn-primary btn-large" value="Edit">
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
    function setAction(action){
        document.getElementById('action').value = action;
    }


</script>
{% endblock %}